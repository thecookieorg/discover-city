<script src="//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script> 
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=211603978873320";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>






<div class="container">
  <div class="row">
    <div class="col-md-12">
      <%= link_to 'Back', accommodations_path, class: "btn btn-default" %>  
    </div><!-- end col-md-12 -->
  </div><!-- end row -->
  <div class="row" style="margin-top: 50px;">
    <div class="col-md-12">
      <h1><%= image_tag @accommodation.logo.thumb.url %> <%= @accommodation.name %> <small>| <%= link_to "tel:#{@accommodation.phone}" do %><i class="fa fa-phone"></i> <%= @accommodation.phone %><% end %> | Per night: <%= @accommodation.price_per_night %></small></h1>
      <hr>
      <div style="text-align: center;">
        <strong><%= link_to "http://#{@accommodation.website}", target: "_blank" do %><i class="fa fa-globe"></i> Website<% end %></strong> | <strong><%= link_to "http://#{@accommodation.booking_url}", target: "_blank" do %><i class="fa fa-calendar-check-o"></i> Book a room<% end %></strong>
      </div>
     </div>
  </div><!-- end row -->
  
  <div class="row" style="margin-top: 30px;">
    <div class="col-md-12">
      <p><%= @accommodation.description %></p>
    </div><!-- end col-md-12 -->
  </div><!-- end row -->
  
  <div class="row">
    <div class="col-md-2">
      <p><strong><i class="fa fa-wifi"></i>Wi-Fi:</strong> <%= @accommodation.free_wi_fi %></p>
      <p><strong><i class="fa fa-product-hunt"></i>Parking:</strong> <%= @accommodation.parking %></p>
      <p><strong><i class="fa fa-wheelchair"></i>Accessible:</strong> <%= @accommodation.accessible %></p>
    </div><!-- end col-md-2 -->
    <div class="col-md-2">
      <p><strong><i class="fa fa-asterisk"></i>Air conditioned:</strong> <%= @accommodation.air_conditioned %></p>
      <p><strong><i class="fa fa-stop-circle-o"></i>Laundry service:</strong><%= @accommodation.laundry_service %></p>
      <p><strong><i class="fa fa-paw"></i>Pets allowed:</strong><%= @accommodation.pets_allowed %></p>
    </div><!-- end col-md-2 -->
    <div class="col-md-2">
      <p><strong><i class="fa fa-coffee"></i>Breakfast:</strong> <%= @accommodation.breakfast %></p>
      <p><strong><i class="fa fa-bars"></i>Pool:</strong><%= @accommodation.pool %></p>
      <p><strong><i class="fa fa-hand-lizard-o"></i>Spa:</strong><%= @accommodation.spa %></p>
    </div><!-- end col-md-2 -->
    <div class="col-md-2">
      <p><strong><i class="fa fa-child"></i>Child friendly:</strong> <%= @accommodation.child_friendly %></p>
      <p><strong><i class="fa fa-cutlery"></i>Restaurant:</strong><%= @accommodation.restaurant %></p>
      <p><strong><i class="fa fa-beer"></i>Bar:</strong><%= @accommodation.bar %></p>
    </div><!-- end col-md-2 -->
    <div class="col-md-2">
      <p><strong><i class="fa fa-plane"></i>Airport shuttle:</strong> <%= @accommodation.airport_shuttle %></p>
      <p><strong><i class="fa fa-circle-thin"></i>Hot tub:</strong><%= @accommodation.hot_tub %></p>
    </div><!-- end col-md-2 -->
    <div class="col-md-2">
      <p><strong><i class="fa fa-futbol-o"></i>Gym:</strong><%= @accommodation.gym %></p>
      <p><strong><i class="fa fa-fire"></i>Smoke free:</strong><%= @accommodation.smoke_free %></p>
    </div><!-- end col-md-2 -->
  </div><!-- end row -->
  
  <div class="row" style="margin-top: 30px;">
    <div class="col-md-4">
      <%= content_tag :div, class: "fb-page", "data-href": "https://www.facebook.com/#{@accommodation.facebook}/", "data-tabs": "timeline", "data-small-header": false, "data-adapt-container-width": true, "data-hide-cover": false, "data-show-facepile": true do -%>
        <div class="fb-xfbml-parse-ignore"></div>
      <% end -%>
      <% if @accommodation.twitter.present? %>
        <div style="margin-top: 20px; text-align: center;">
          <%= link_to "http://twitter.com/#{@accommodation.twitter}", target: "_blank" do %>
            <img src="http://www.echternach.lu/followusontwitterlogo.jpg?FileID=imagettes%2Ffollowusontwitterlogo.jpg" class="img-responsive" style="width: 150px;">
        <% end %>  
        </div>
      <% end %>
      
    </div><!-- end col-md-3 -->
    <div class="col-md-8">
      <div id="custom_style" style='width: 100%; height: 500px;'></div>
      <h3><%= @accommodation.address %></h3>
    </div><!-- end col-md-6 -->
  </div><!-- end row -->
    
</div><!-- end container -->


<script>
var mapStyle = [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"administrative.country","elementType":"geometry.fill","stylers":[{"visibility":"on"}]},{"featureType":"administrative.province","elementType":"labels.icon","stylers":[{"hue":"#ff0000"},{"visibility":"on"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#46bcec"},{"visibility":"on"}]}];

handler = Gmaps.build('Google');
handler.buildMap({ provider: {mapTypeId: google.maps.MapTypeId.ROADMAP, styles: mapStyle}, internal: {id: 'custom_style'}}, function(){
  markers = handler.addMarkers(<%=raw @hash.to_json %>);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
</script>